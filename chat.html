<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WhatsApp Web</title>
    <!-- Utilise soit
      le CDN Tailwind, soit ton propre style.css généré par Tailwind -->
    <!-- Pour le CDN : -->
    <!-- <script src="https://cdn.tailwindcss.com"></script> -->
    <link href="/style.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        }
        .scrollbar-thin::-webkit-scrollbar {
            width: 6px;
        }
        .scrollbar-thin::-webkit-scrollbar-track {
            background: transparent;
        }
        .scrollbar-thin::-webkit-scrollbar-thumb {
            background: rgba(255,255,255,0.2);
            border-radius: 3px;
        }
    </style>
    <script type="module" src="chat.js"></script>
</head>
<body class="bg-gray-900 h-screen overflow-hidden">
    <div class="flex h-full">
        <!-- Sidebar -->
        <div class="h-full w-20 bg-gray-900 flex flex-col justify-between items-center py-4 border-r-2 border-gray-700">
            <!-- Top icons -->
            <div class="flex flex-col space-y-6 items-center">
                <!-- Icône 1 avec badge vert (Chat principal) -->
                <div class="relative cursor-pointer" id="sidebarChatIcon">
                    <svg viewBox="0 0 24 24" height="30" width="30" class="text-gray-200" fill="none">
                        <title>chat-filled-refreshed</title>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M22.0002 6.66667C22.0002 5.19391 20.8062 4 19.3335 4H1.79015C1.01286 4 0.540213 4.86348 0.940127 5.53L3.00016 9V17.3333C3.00016 18.8061 4.19406 20 5.66682 20H19.3335C20.8062 20 22.0002 18.8061 22.0002 17.3333V6.66667ZM7.00016 10C7.00016 9.44772 7.44787 9 8.00016 9H17.0002C17.5524 9 18.0002 9.44772 18.0002 10C18.0002 10.5523 17.5524 11 17.0002 11H8.00016C7.44787 11 7.00016 10.5523 7.00016 10ZM8.00016 13C7.44787 13 7.00016 13.4477 7.00016 14C7.00016 14.5523 7.44787 15 8.00016 15H14.0002C14.5524 15 15.0002 14.5523 15.0002 14C15.0002 13.4477 14.5524 13 14.0002 13H8.00016Z" fill="currentColor"></path>
                    </svg>
                    <span class="absolute -top-2 -right-2 bg-green-500 text-xs text-white rounded-full px-2 font-bold">85</span>
                </div>
                <!-- Icône 2 avec point vert -->
                <div class="relative">
                    <svg viewBox="0 0 24 24" height="24" width="24" class="text-gray-400" fill="none">
                        <title>status-filled-refreshed</title>
                        <path d="M13.5628 3.1366C13.6587 2.5927 14.1794 2.22462 14.711 2.37435C15.7905 2.67838 16.8135 3.16253 17.736 3.80854C18.9323 4.64621 19.9305 5.73571 20.6606 7.00047C21.3907 8.26523 21.8349 9.67454 21.962 11.1294C22.0601 12.2513 21.9677 13.3793 21.6911 14.4662C21.5549 15.0014 20.9758 15.2682 20.4568 15.0792C19.9378 14.8903 19.677 14.317 19.7998 13.7785C19.9843 12.9693 20.0422 12.1343 19.9696 11.3035C19.8679 10.1396 19.5126 9.01215 18.9285 8.00035C18.3444 6.98854 17.5458 6.11694 16.5888 5.44681C15.9057 4.96841 15.1536 4.60097 14.3606 4.35607C13.8329 4.19311 13.4669 3.68049 13.5628 3.1366Z" fill="currentColor"></path>
                        <path d="M18.8944 17.785C19.3175 18.14 19.3759 18.7749 18.9804 19.1604C18.1774 19.9433 17.2466 20.5872 16.2259 21.0631C14.9023 21.6802 13.4597 22 11.9993 21.9999C10.5389 21.9998 9.09633 21.6798 7.77287 21.0625C6.7522 20.5864 5.82149 19.9424 5.01855 19.1594C4.62314 18.7739 4.68167 18.1389 5.10479 17.784C5.52792 17.429 6.15484 17.4898 6.55976 17.8653C7.16828 18.4297 7.86245 18.8974 8.61829 19.25C9.67707 19.7438 10.8312 19.9998 11.9994 19.9999C13.1677 19.9999 14.3218 19.7441 15.3807 19.2504C16.1366 18.898 16.8308 18.4304 17.4394 17.8661C17.8444 17.4906 18.4713 17.4299 18.8944 17.785Z" fill="currentColor"></path>
                        <path d="M3.54277 15.078C3.02379 15.2669 2.4447 15.0001 2.30857 14.4648C2.03215 13.378 1.9399 12.2501 2.03806 11.1283C2.16533 9.67358 2.60965 8.26441 3.33978 6.9998C4.06991 5.7352 5.06815 4.64584 6.26432 3.80828C7.1868 3.16237 8.20975 2.6783 9.28915 2.37431C9.82075 2.22459 10.3414 2.59268 10.4373 3.13657C10.5332 3.68047 10.1672 4.19308 9.6395 4.35604C8.84657 4.60091 8.09458 4.96828 7.41146 5.4466C6.45452 6.11664 5.65593 6.98813 5.07183 7.99982C4.48772 9.0115 4.13226 10.1388 4.03045 11.3026C3.95776 12.1334 4.01559 12.9683 4.19998 13.7774C4.3227 14.3159 4.06175 14.8892 3.54277 15.078Z" fill="currentColor"></path>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M12.0001 18C15.3138 18 18.0001 15.3137 18.0001 12C18.0001 8.68628 15.3138 5.99999 12.0001 5.99999C8.68635 5.99999 6.00006 8.68628 6.00006 12C6.00006 15.3137 8.68635 18 12.0001 18Z" fill="currentColor"></path>
                    </svg>
                    <span class="absolute top-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-gray-900"></span>
                </div>
                <!-- Icône 3 avec point vert -->
                <div class="relative">
                    <svg viewBox="0 0 24 24" height="24" width="24" class="text-gray-400" fill="none">
                        <title>newsletter-outline</title>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M15.8301 8.63404C16.3081 8.35745 16.9198 8.52076 17.1964 8.9988C17.7077 9.88244 18 10.9086 18 12C18 13.0914 17.7077 14.1176 17.1964 15.0012C16.9198 15.4792 16.3081 15.6425 15.8301 15.366C15.352 15.0894 15.1887 14.4776 15.4653 13.9996C15.8052 13.4122 16 12.7304 16 12C16 11.2696 15.8052 10.5878 15.4653 10.0004C15.1887 9.52237 15.352 8.91063 15.8301 8.63404ZM8.16995 8.63404C8.64798 8.91063 8.81129 9.52237 8.5347 10.0004C8.19484 10.5878 8 11.2696 8 12C8 12.7304 8.19484 13.4122 8.5347 13.9996C8.81129 14.4776 8.64798 15.0894 8.16995 15.366C7.69191 15.6425 7.08017 15.4792 6.80358 15.0012C6.29231 14.1176 6 13.0914 6 12C6 10.9086 6.29231 9.88244 6.80358 8.9988C7.08017 8.52076 7.69191 8.35745 8.16995 8.63404Z" fill="currentColor"></path>
                        <path d="M13.5 12C13.5 12.8284 12.8284 13.5 12 13.5C11.1716 13.5 10.5 12.8284 10.5 12C10.5 11.1716 11.1716 10.5 12 10.5C12.8284 10.5 13.5 11.1716 13.5 12Z" fill="currentColor"></path>
                    </svg>
                    <span class="absolute top-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-gray-900"></span>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="flex-1 flex flex-col">
            <!-- Header -->
            <div class="bg-gray-900 p-4 flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="relative">
                        <img id="chatAvatar" src="" alt="Avatar" class="w-10 h-10 rounded-full">
                        <span id="onlineIndicator" class="absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-gray-900 hidden"></span>
                    </div>
                    <div>
                        <div id="chatName" class="text-white font-medium"></div>
                        <div id="chatStatus" class="text-gray-400 text-sm"></div>
                    </div>
                </div>
                <div class="flex items-center space-x-4 text-gray-300">
                    <i class="fas fa-search cursor-pointer hover:text-white transition-colors"></i>
                    <i class="fas fa-phone cursor-pointer hover:text-white transition-colors"></i>
                    <i class="fas fa-video cursor-pointer hover:text-white transition-colors"></i>
                    <i class="fas fa-ellipsis-v cursor-pointer hover:text-white transition-colors"></i>
                </div>
            </div>

            <!-- Messages -->
            <div class="flex-1 overflow-y-auto p-4 bg-gray-800" style="background-image: url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\"><defs><pattern id=\"chat-bg\" x=\"0\" y=\"0\" width=\"20\" height=\"20\" patternUnits=\"userSpaceOnUse\"><circle cx=\"10\" cy=\"10\" r=\"1\" fill=\"%23374151\" opacity=\"0.1\"/></pattern></defs><rect width=\"100\" height=\"100\" fill=\"url(%23chat-bg)\"/></svg>');">
                <div id="messagesContainer" class="space-y-2">
                    <!-- Les messages seront ajoutés ici dynamiquement -->
                </div>
            </div>

            <!-- Zone de saisie -->
            <div class="bg-gray-900 border-t border-gray-700 p-4">
                <div class="flex items-end space-x-3">
                    <button class="text-gray-400 hover:text-white transition-colors p-2">
                        <i class="fas fa-smile text-xl"></i>
                    </button>
                    <button class="text-gray-400 hover:text-white transition-colors p-2">
                        <i class="fas fa-paperclip text-xl"></i>
                    </button>
                    <div class="flex-1 relative">
                        <textarea 
                            id="messageInput"
                            placeholder="Tapez un message..."
                            class="w-full bg-gray-700 text-white rounded-lg px-4 py-3 pr-12 resize-none focus:outline-none focus:ring-2 focus:ring-green-500 max-h-32 min-h-[48px]"
                            rows="1"
                        ></textarea>
                    </div>
                    <button id="sendButton" class="bg-green-500 hover:bg-green-600 text-white p-3 rounded-full transition-colors">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script type="module" src="chat.js"></script>
</body>
</html>